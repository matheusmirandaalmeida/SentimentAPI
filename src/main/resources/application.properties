#############################################
# IDENTIFICAÇÃO DA APLICAÇÃO
#############################################

# Nome da aplicação Spring Boot
spring.application.name=SentimentAPI

# Porta padrão do backend
server.port=8080


#############################################
# MICROSERVIÇO DE DATA SCIENCE (PYTHON)
#############################################

# URL base do serviço de Data Science
# Em Docker, o nome do serviço funciona como hostname
ds.service.base-url=${DS_SERVICE_BASE_URL:http://sentiment-ds:8000}

# Endpoint de predição
ds.service.predict-path=/predict


#############################################
# CONFIGURAÇÃO DO BANCO DE DADOS (POSTGRESQL)
#############################################

# Driver JDBC do PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver

# URL do banco (vem do docker-compose)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/sentimentdb}

# Usuário do banco
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sentiment}

# Senha do banco
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:sentiment}


#############################################
# JPA / HIBERNATE
#############################################

# Atualiza o schema automaticamente (ideal para projeto acadêmico)
spring.jpa.hibernate.ddl-auto=update

# Dialeto correto para PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Exibe SQL no console (ótimo para debug e avaliação)
spring.jpa.show-sql=true

# Formata o SQL exibido
spring.jpa.properties.hibernate.format_sql=true


#############################################
# INICIALIZAÇÃO DE DADOS (data.sql)
#############################################

# Garante que o Hibernate crie as tabelas antes do data.sql
spring.jpa.defer-datasource-initialization=true

# Sempre executa data.sql ao iniciar
spring.sql.init.mode=always


#############################################
# LOGGING
#############################################

# Nível global de log
logging.level.root=INFO

# Log detalhado apenas para o pacote do projeto
logging.level.Alura.Hackaton=DEBUG


#############################################
# CORS
#############################################

# Origens permitidas para consumo da API
# Inclui frontend local e backend
cors.allowed-origins=http://localhost:5500,http://localhost:8080


#############################################
# ARQUIVOS ESTÁTICOS (FRONTEND)
#############################################

# Localização dos arquivos estáticos (HTML, CSS, JS)
spring.web.resources.static-locations=classpath:/static/

# Mapeamento das rotas estáticas
spring.mvc.static-path-pattern=/**


#############################################
# TEMPLATE ENGINES
#############################################

# Desabilita Thymeleaf (frontend é estático)
spring.thymeleaf.enabled=false
