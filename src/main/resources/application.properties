spring.application.name=SentimentAPI
server.port=8080


#--------------------------------------------
# MICROSERVIÇO DE DATA SCIENCE - PYTHON
#--------------------------------------------

# URL base do serviço de Data Science
# Em Docker, o nome do serviço funciona como hostname
ds.service.base-url=${DS_SERVICE_BASE_URL:http://ds-service:8000}

# Endpoint de predict
ds.service.predict-path=/predict


#--------------------------------------------
# CONFIGURACAO DO BANCO DE DADOS (POSTGRESQL)
#--------------------------------------------

# Driver JDBC do PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver

# URL do banco
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/sentimentdb}

# Usuário do banco
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sentiment}

# Senha do banco
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:sentiment}


#--------------------------------------------
# JPA / HIBERNATE
#--------------------------------------------

# Atualiza o schema automaticamente (ideal para projeto acadêmico)
spring.jpa.hibernate.ddl-auto=update

# Dialeto correto para PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Exibe SQL no console (ótimo para debug e avaliação)
spring.jpa.show-sql=true

# Formata o SQL exibido
spring.jpa.properties.hibernate.format_sql=true


#--------------------------------------------
# INICIALIZACAO DE DADOS (data.sql)
#--------------------------------------------

# Garante que o Hibernate crie as tabelas antes do data.sql
spring.jpa.defer-datasource-initialization=true

# Sempre executa data.sql ao iniciar
spring.sql.init.mode=always


#--------------------------------------------
# LOGGING
#--------------------------------------------

# Nível global de log
logging.level.root=INFO

# Log detalhado apenas para o pacote do projeto
logging.level.com.sentiment=DEBUG


#############################################
# CORS
#############################################

# Origens permitidas para consumo da API
# Inclui frontend local e backend
cors.allowed-origins=http://localhost:5500,http://localhost:8080,http://localhost:3000


#--------------------------------------------
# ARQUIVOS ESTATICOS - FRONTEND
#--------------------------------------------

# Localização dos arquivos estáticos (HTML, CSS, JS)
spring.web.resources.static-locations=classpath:/static/

# Mapeamento das rotas estáticas
spring.mvc.static-path-pattern=/**

# Desabilita cache em desenvolvimento
spring.web.resources.cache.period=0
spring.resources.cache.period=0
spring.resources.chain.cache=false


#--------------------------------------------
# TEMPLATE ENGINES
#--------------------------------------------

# Desabilita Thymeleaf
spring.thymeleaf.enabled=false
#--------------------------------------------
# HABILITA DEVTOOLS PARA HOT RELOAD
#--------------------------------------------

# Para desenvolvimento com Docker (com volume montado)
spring.devtools.restart.enabled=true
spring.devtools.restart.poll-interval=2s
spring.devtools.restart.quiet-period=1s